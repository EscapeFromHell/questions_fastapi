# Questions FastAPI

Веб сервис, выполняющий следующие функции:
1.	В сервисе реализован POST метод, принимающий на вход запросы с параметром "questions_num": int.
2.	После получения запроса сервис, в свою очередь, запрашивает с публичного API (англоязычные вопросы для викторин) https://jservice.io/api/random?count=1 указанное в полученном запросе количество вопросов.
3.	Полученные ответы сохраняются в БД. В случае, если в БД имеется такой же вопрос, к публичному API с викторинами выполняются дополнительные запросы до тех пор, пока не будет получен уникальный вопрос для викторины.
4.	Ответ на POST запрос: предыдущей сохранённый вопрос для викторины. В случае его отсутствия - пустой объект.

## Технологии
Python, FastAPI, Pydantic, SQLAlchemy, Alembic, PostgreSQL, Docker

## Запуск проекта
- Скачайте проект: git clone https://github.com/EscapeFromHell/questions_fastapi.git
- После скачивания проекта, перейдите в папку проекта: cd questions_fastapi
- Выполните команду: docker compose up -d --build
- После запуска контейнеров, документация проекта будет доступна по ссылке: 
http://127.0.0.1:8000/docs

## Пример POST-запроса:
```bash
curl -X 'POST' 'http://127.0.0.1:8000/api_v1/questions/?questions_num=10' -H 'accept: application/json' -d ''
```
Данный запрос вернет пустой объект (QuestionEmpty) при первом обращении, при последующих обращениях будет возвращен предыдущий сохраненный вопрос. 
